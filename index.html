<!DOCTYPE html>
<html>
<head>
  <title>HTTP services with Dropwizard</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <style type="text/css">
    * {
      font-family: "Helvetica";
    }

    .red {
      color: #FF0000;
    }

    .large img {
      width: 100%;
      height: 100%;
    }

    li {
      font-size: 40px;
      line-height: 50px;

    }

    .smaller ul li {
    }
  </style>
</head>
<body>
  <textarea id="source">

    class: center, middle

    # HTTP services with Dropwizard

    ---

    class: center, middle

    # Karl Kirch
    ### @joekarl
    <br />
    <br />
    ![Simple](simple-small-applications.png)

    ---

    class: center, middle

    ## Java web development is changing

    ---

    class: center, middle
    ## The Cloud

    ![cloud](cloud.jpeg)

    ---

    ## The Cloud

    * Horizontal scaling
    * Transient infrastructure
    * Limited resource machines
    * One app per instance
    * Microservices

    ---

    class: center, middle

    ## Java programming style is changing
    ### (OOP is no longer the emphasis)

    ---

    ## Functional and Data oriented programming

    * Input -> Transform -> Output
    * Immutable data
    * Java 8 lambdas
    * Easier testing

    ---

    class: center, middle

    ## Project simplicity is a feature

    ---

    ## Do you need app server features?

    * J2EE Container
    * EJB
    * Transaction management
    * JNDI
    * Multiple apps on same server

    ---

    class: center, middle

    ![No](no.gif)

    ---

    ## What do we want from a framework?

    * No container
    * Simple config
    * Easy testing
    * Lean
    * Easy monitoring

    ---

    class: center, middle

    # Dropwizard

    ![Dropwizard logo](dropwizard-hat.png)

    ---

    class: center, middle

    ## Dropwizard is a Java framework for developing ops-friendly, high-performance, RESTful web services.
    #### - The Dropwizard website

    ---

    ## Key features

    * Quick project bootstrap
    * Simple deployment
    * Productivity
    * Testability
    * Production ready

    ???

    project bootstrap - Just a main and you're done, very developer friendly

    deployment - Uber jar

    productivity - standard libraries for app development

    testing - everything is just a pojo, if you've tried to test in a J2EE container
    you know how nice it is to not have to bootstrap that stuff

    prod ready - fast, ops features (logging, metrics, monitoring), deployment

    ---

    class: center, middle

    #Disclaimer - Dropwizard is opinionated

    ???

    But don't worry, most things are swappable, use what you want

    ---

    ## The core ingedients

    * Embedded Jetty
    * REST via Jersey with JAX-RS annotations
    * Jackson for JSON
    * Built in Metrics
    * Logging via slf4j and Logback

    ???

    Jetty - no container, fast

    Jersey - simple resource definitions next to your code

    Jackson - basically THE json library on the jvm

    Metrics - know what your service is doing, both timing and usage

    Logging - battle tested, fast

    ---

    ## Other niceties

    * Guava
    * Hibernate Validator
    * JodaTime
    * Freemarker / Mustache templates
    * Apache HttpClient

    ???

    Guava - less of an issue with java 8 but still helpful for functional dev

    hib. validator - validate user input

    jodatime - again less of an issue with java 8 but the way to go for time

    templates - fast easy templating

    httpclient - make calls to other services, important in a microservice env

    ---

    # More than an HTTP server

    * Admin interface
      * Healthchecks
      * Metrics
      * Thread dumps
      * Tasks
    * Commands
    * Managed Objects
    * Environments

    ???

    Admin interface

    Healthchecks - imperative to keep verify your app is up and running

    Metrics - endpoint to see current metric stats

    Thread dumps - get it via http

    Tasks - http accessible routes not exposed to public routes

    Commands - command line commands

    Managed Objects - control startup / shutdown is tricky

    Environments - think setting up different services per environment

    ---

    class: center, middle

    #Let's build something!

    ???

    ie going to show building a cool basic app

    ---

    class: center, middle

    # Questions?

  </textarea>
  <script src="remark-latest.min.js">
  </script>
  <script>
  var slideshow = remark.create();
  </script>
</body>
</html>
